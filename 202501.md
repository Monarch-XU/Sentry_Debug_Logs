# 2025 年1月调试日志

## 2025/1/10  Error

关键词：导航、地盘控制、小电脑、大yaw

今天在导航时发现我目标点设在前面哨兵就向右边走，导航点设在右边它就向后走。排查发现/home/hj/sentry_ros_25/src/simple_robot/include/robot.h文件的x轴和y轴底盘速度是对/cmd_vel话题控制数据的xy轴速度调换，并对y轴速度取反。

我们修正了这一错误，但再次导航时发现其xy轴速度仍然是对调的。因此我们在/home/hj/sentry_ros_25/src/sentry_navigation/src/chassis_move.cpp地盘控制执行文件的大约210行对cmd_vel.linear.x、cmd_vel.linear.y赋值的地方对x轴和y轴速度进行了交换（感觉在复刻前人的老路），然后它能够正常导航行驶了。由于这一问题没有根本上查清，推测是传输数据出现了问题，这种交换xy轴速度的方式只是为了通过中期测评的权宜之策，所以我在修改的地方也做了注释。

至于去年10月份调导航的时候为什么没有发现这个问题？这期间哨兵经历了两次大修，一次是底盘的维修，一次是大yaw和弹链的打印件坏了，整个云台拆了重修并重新排线。这个问题也没有查清。

还有个问题，最后对调完xy轴再去测导航的时候，发现直走的话是没问题的，但快到达终点的时候会跑偏到其他地方，难道只是把x轴数据调对了而没有把y轴数据调对？难道还需要对y轴数据取一次反？这个再调。

以及，哨兵紫色的那台电脑坏掉了，一直在进BIOS。我们只好把它的硬盘取了出来。

机械上，转动大yaw的时候会有嘎吱嘎吱的声音。



## 2025/1/11 Error

关键词：导航、上下位机通信

昨晚成功把导航调通，今天进入导航时发现上位机控制数据无法下发给下位机，从底盘主板向上通讯溯源，确定是小电脑通过USB串口发送的控制数据未成功通讯到云台主板，遂回到小电脑，开启终端调用下列指令查看串行总线设备连接
```C
~$ dmesg | grep tty
```

发现设备数量与连接数量对不上，将连接到拓展坞上的USB接口重新插拔则设备数量依次增加，判断为小电脑USB端口有损坏无法在上电时成功识别出连接在拓展坞上的串行总线设备，于是换了一个USB端口连接拓展坞，问题解决。判断为勾八派擎寿命真的短。

在导航避障的过程中，底盘发出异响，发现是LB轮组固定驱动轮处的螺丝脱落，拧回去，再次测试，再次脱落，而且这次RB轮组舵向电机处的连接螺丝也有脱落，紧急维护。


## 2025/1/24 Error

关键词：小电脑

哨兵的小电脑在某次上电后突然连不上nomachine了。直接连屏幕发现电脑一直卡在黑屏界面动不了，且左上角有个光标一直在闪。目前没排查出是什么原因，推测是储存爆了进不去（ros的log日志目录会自动存储ROS_INFO出来的信息，导致日志文件目录爆满，之前清过几次）
